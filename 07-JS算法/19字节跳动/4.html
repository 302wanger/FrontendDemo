<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>


    // function valid(data) {
    //     let count = 0;
    //     for (let i = 0; i < data.length; i++) {
    //         if (count === 0) {
    //             if ((data[i] >> 5) == 0b110) count = 1;
    //             else if ((data[i] >> 4) == 0b110) count = 2;
    //             else if ((data[i] >> 3) == 0b110) count = 3;
    //             else if (data[i] >> 7) return 0
    //         } else {
    //             if ((data[i] >> 6) != 0b10) {
    //                 return 0
    //             }
    //         }
    //     }
    //     return count ? 1:0
    // }

    function valid(data) {
        for (let i = 0; i < data.length; i++) {
            if (data[i] < 0b10000000) {
                continue;
            } else {
                let cnt = 0, val = data[i];
                for (let j = 7; j >= 1; --j) {
                    if (val >= Math.pow(2, j)) ++cnt;
                    else break;
                    val -= Math.pow(2, j);
                }
                if (cnt == 1) return 0;
                for (let j = i + 1; j < i + cnt; ++j) {
                    if (data[j] > 0b10111111 || data[j] < 0b10000000) return 0;
                }
                i += cnt - 1;
            }
        }
        return 1
    }


</script>
</body>
</html>