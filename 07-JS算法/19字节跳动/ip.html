<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>


/*function resetIp(s) {
    let result = [];
    let temp = '';

    function search(s, temp, res, count, index, len) {
        //index 操作到字符串第几个字符
        //count 操作到IP第几位
        if (count == 0 && index == len) {
            result.push(temp);
            return;
        }
        if ((count == 0 && index < len) || (count > 0 && index == len)) {
            return;
        }

        let value = 0;
        let flag = true;
        while (index < len && flag) {
            if (value == 0 && s[index] == '0') {
                flag = false;
            }
            value = value * 10 + Number(s[index]);
            index++;
            if (value < 256) {
                let record = "";
                if (count == 1) {
                    record = temp + value.toString();
                } else {
                    record = temp + value.toString() + '.';
                }
                search(s, record, result, count - 1, index, len);
            }
        }
    }
    search(s, temp, result, 4, 0, s.length);
    return result.length;
}*/


function resetIp(s) {
    let res= [];
    let len= s.length;

    for(let i = 1; i<4 && i<len-2; i++){
        for(let j = i+1; j<i+4 && j<len-1; j++){
            for(let k = j+1; k<j+4 && k<len; k++){
                let s1 = s.substring(0,i),
                    s2 = s.substring(i,j),
                    s3 = s.substring(j,k),
                    s4 = s.substring(k,len);
                if(valid(s1) && valid(s2) && valid(s3) && valid(s4)){
                    res.push(s1+"."+s2+"."+s3+"."+s4);
                }
            }
        }
    }

    function valid(s) {
        if(s.length>3 || s.length==0 || (s.charAt(0)=='0' && s.length>1) || Number(s)>255)
            return false;
        return true;
    }
    return res.length
}





console.log(resetIp('1111121'))

</script>
</body>
</html>